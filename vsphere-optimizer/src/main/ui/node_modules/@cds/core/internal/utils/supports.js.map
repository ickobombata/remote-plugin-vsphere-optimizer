{"version":3,"file":"supports.js","sources":["../../../../src/internal/utils/supports.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { camelCaseToKebabCase } from './string.js';\nclass BrowserFeatures {\n    constructor() {\n        this.supports = {\n            js: true,\n            flexGap: supportsFlexGap(),\n        };\n        if (!document.body.hasAttribute('cds-supports') || document.body.getAttribute('cds-supports') === 'no-js') {\n            const supports = camelCaseToKebabCase(Object.keys(this.supports).reduce((prev, next) => `${prev} ${this.supports[next] ? next : `no-${next}`}`, '')).trim();\n            document.body.setAttribute('cds-supports', supports);\n        }\n    }\n}\nexport const browserFeatures = new BrowserFeatures();\nfunction supportsFlexGap() {\n    const flex = document.createElement('div');\n    flex.style.display = 'flex';\n    flex.style.flexDirection = 'column';\n    flex.style.rowGap = '1px';\n    // create two, elements inside it\n    flex.appendChild(document.createElement('div'));\n    flex.appendChild(document.createElement('div'));\n    // append to the DOM (needed to obtain scrollHeight)\n    document.body.appendChild(flex);\n    const isSupported = flex.scrollHeight === 1; // flex container should be 1px high from the row-gap\n    flex.parentNode.removeChild(flex);\n    return isSupported;\n}\n"],"names":["browserFeatures","constructor","this","supports","js","flexGap","supportsFlexGap","document","body","hasAttribute","getAttribute","camelCaseToKebabCase","Object","keys","reduce","prev","next","trim","setAttribute","flex","createElement","style","display","flexDirection","rowGap","appendChild","isSupported","scrollHeight","parentNode","removeChild"],"mappings":"mDAkBY,MAACA,EAAkB,IAZ/B,MACIC,cAKI,GAJAC,KAAKC,SAAW,CACZC,IAAI,EACJC,QAASC,MAERC,SAASC,KAAKC,aAAa,iBAAkE,UAA/CF,SAASC,KAAKE,aAAa,gBAA6B,CACvG,MAAMP,EAAWQ,EAAqBC,OAAOC,KAAKX,KAAKC,UAAUW,QAAO,CAACC,EAAMC,IAAS,GAAGD,KAAQb,KAAKC,SAASa,GAAQA,EAAO,MAAMA,KAAU,KAAKC,OACrJV,SAASC,KAAKU,aAAa,eAAgBf,MAKvD,SAASG,IACL,MAAMa,EAAOZ,SAASa,cAAc,OACpCD,EAAKE,MAAMC,QAAU,OACrBH,EAAKE,MAAME,cAAgB,SAC3BJ,EAAKE,MAAMG,OAAS,MAEpBL,EAAKM,YAAYlB,SAASa,cAAc,QACxCD,EAAKM,YAAYlB,SAASa,cAAc,QAExCb,SAASC,KAAKiB,YAAYN,GAC1B,MAAMO,EAAoC,IAAtBP,EAAKQ,aAEzB,OADAR,EAAKS,WAAWC,YAAYV,GACrBO"}