{"version":3,"file":"metadata.js","sources":["../../../../src/internal/utils/metadata.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { arrayToObject } from './array.js';\nimport { setPropStyles } from './string.js';\nexport function getElementStorybookArgTypes(tagName, customElementsMetadata) {\n    const meta = arrayToObject(customElementsMetadata.tags, 'name')[tagName];\n    return { ...getPropOptionsStorybookArgs(meta), ...getCustomPropsStorybookArgs(meta), ...getSlotStorybookArgs(meta) };\n}\nexport function getElementStorybookArgs(args) {\n    return { ...args, style: setPropStyles(args) };\n}\nfunction getCustomPropsStorybookArgs(customElementMetadata) {\n    var _a;\n    return (_a = customElementMetadata.cssProperties) === null || _a === void 0 ? void 0 : _a.reduce((obj, prop) => {\n        var _a, _b;\n        const type = ((_a = prop === null || prop === void 0 ? void 0 : prop.name) === null || _a === void 0 ? void 0 : _a.includes('color')) || ((_b = prop === null || prop === void 0 ? void 0 : prop.name) === null || _b === void 0 ? void 0 : _b.endsWith('background')) ? 'color' : 'text';\n        return { ...obj, [prop.name]: { control: { type } } };\n    }, {});\n}\nfunction getPropOptionsStorybookArgs(customElementMetadata) {\n    var _a;\n    return (_a = customElementMetadata.properties) === null || _a === void 0 ? void 0 : _a.filter((prop) => { var _a; return (_a = prop === null || prop === void 0 ? void 0 : prop.type) === null || _a === void 0 ? void 0 : _a.includes(' | '); }).reduce((obj, prop) => {\n        const options = prop.type.split('|').map(p => p.replace(/\"/g, '').replace(/\\s/g, ''));\n        return {\n            ...obj,\n            [prop.name]: {\n                control: { type: 'select', options },\n                defaultValue: options[0],\n            },\n        };\n    }, {});\n}\nfunction getSlotStorybookArgs(customElementMetadata) {\n    var _a;\n    return (_a = customElementMetadata.slots) === null || _a === void 0 ? void 0 : _a.reduce((obj, prop) => {\n        return { ...obj, [prop.name]: { control: { type: 'text' }, defaultValue: `${prop.name}` } };\n    }, {});\n}\n"],"names":["getElementStorybookArgTypes","tagName","customElementsMetadata","meta","arrayToObject","tags","customElementMetadata","_a","properties","filter","prop","type","includes","reduce","obj","options","split","map","p","replace","name","control","defaultValue","getCustomPropsStorybookArgs","getSlotStorybookArgs","getElementStorybookArgs","args","style","setPropStyles","cssProperties","_b","endsWith","slots"],"mappings":"uFAOO,SAASA,EAA4BC,EAASC,GACjD,MAAMC,EAAOC,EAAcF,EAAuBG,KAAM,QAAQJ,GAChE,MAAO,KAa0BK,EAbOH,EAeW,QAA3CI,EAAKD,EAAsBE,kBAA+B,IAAPD,OAAgB,EAASA,EAAGE,QAAQC,IAAW,IAAIH,EAAI,OAAwE,QAAhEA,EAAKG,MAAAA,OAAmC,EAASA,EAAKC,YAAyB,IAAPJ,OAAgB,EAASA,EAAGK,SAAS,UAAWC,QAAO,CAACC,EAAKJ,KAC3P,MAAMK,EAAUL,EAAKC,KAAKK,MAAM,KAAKC,KAAIC,GAAKA,EAAEC,QAAQ,KAAM,IAAIA,QAAQ,MAAO,MACjF,MAAO,IACAL,EACH,CAACJ,EAAKU,MAAO,CACTC,QAAS,CAAEV,KAAM,SAAUI,QAAAA,GAC3BO,aAAcP,EAAQ,OAG/B,QAxB+CQ,EAA4BpB,MAAUqB,EAAqBrB,IAajH,IAAqCG,EAC7BC,EAZD,SAASkB,EAAwBC,GACpC,MAAO,IAAKA,EAAMC,MAAOC,EAAcF,IAE3C,SAASH,EAA4BjB,GACjC,IAAIC,EACJ,OAAsD,QAA9CA,EAAKD,EAAsBuB,qBAAkC,IAAPtB,OAAgB,EAASA,EAAGM,QAAO,CAACC,EAAKJ,KACnG,IAAIH,EAAIuB,EACR,MAAMnB,GAAyE,QAAhEJ,EAAKG,MAAAA,OAAmC,EAASA,EAAKU,YAAyB,IAAPb,OAAgB,EAASA,EAAGK,SAAS,YAA+E,QAAhEkB,EAAKpB,MAAAA,OAAmC,EAASA,EAAKU,YAAyB,IAAPU,OAAgB,EAASA,EAAGC,SAAS,eAAiB,QAAU,OACnR,MAAO,IAAKjB,EAAK,CAACJ,EAAKU,MAAO,CAAEC,QAAS,CAAEV,KAAAA,OAC5C,IAeP,SAASa,EAAqBlB,GAC1B,IAAIC,EACJ,OAA8C,QAAtCA,EAAKD,EAAsB0B,aAA0B,IAAPzB,OAAgB,EAASA,EAAGM,QAAO,CAACC,EAAKJ,KACpF,IAAKI,EAAK,CAACJ,EAAKU,MAAO,CAAEC,QAAS,CAAEV,KAAM,QAAUW,aAAc,GAAGZ,EAAKU,SAClF"}