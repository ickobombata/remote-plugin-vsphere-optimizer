{"version":3,"file":"animate.js","sources":["../../../../src/internal/decorators/animate.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { AnimationStatus, PRIVATE_ANIMATION_STATUS_ATTR_NAME, } from '../motion/interfaces.js';\nimport { runPropertyAnimations } from '../motion/utils.js';\nimport { isJestTest } from '../utils/environment.js';\n// https://www.typescriptlang.org/docs/handbook/decorators.html#class-decorators\nexport function animate(config) {\n    if (isJestTest()) {\n        return function () {\n            // jsdom doesn't like the class returned from the decorator below\n            // do nothing\n        };\n    }\n    return function _DecoratorName(constr) {\n        const _constr = constr;\n        return class extends _constr {\n            updated(props) {\n                super.updated(props);\n                const self = this;\n                self._animations = config || void 0;\n                if (!self.hasAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME)) {\n                    self.setAttribute(PRIVATE_ANIMATION_STATUS_ATTR_NAME, AnimationStatus.ready);\n                }\n                else if (!self.hasAttribute('_demo-mode')) {\n                    // ignore if element has the _demo-mode attribute set; _demo-mode is used for docs, static examples, and stories\n                    runPropertyAnimations(props, self);\n                }\n            }\n        };\n    };\n}\n"],"names":["animate","config","isJestTest","constr","_constr","updated","props","super","self","this","_animations","hasAttribute","PRIVATE_ANIMATION_STATUS_ATTR_NAME","runPropertyAnimations","setAttribute","AnimationStatus","ready"],"mappings":"kNASO,SAASA,EAAQC,GACpB,OAAIC,IACO,aAKJ,SAAwBC,GAC3B,MAAMC,EAAUD,EAChB,OAAO,cAAcC,EACjBC,QAAQC,GACJC,MAAMF,QAAQC,GACd,MAAME,EAAOC,KACbD,EAAKE,YAAcT,QAAU,EACxBO,EAAKG,aAAaC,GAGbJ,EAAKG,aAAa,eAExBE,EAAsBP,EAAOE,GAJ7BA,EAAKM,aAAaF,EAAoCG,EAAgBC"}