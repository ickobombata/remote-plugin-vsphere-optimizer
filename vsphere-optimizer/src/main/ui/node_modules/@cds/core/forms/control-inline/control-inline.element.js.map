{"version":3,"file":"control-inline.element.js","sources":["../../../../src/forms/control-inline/control-inline.element.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { __decorate } from \"tslib\";\nimport { html } from 'lit';\nimport { property, event, getElementUpdates, state } from '@cds/core/internal';\nimport styles from './control-inline.element.scss';\nimport { CdsControl } from '../control/control.element.js';\nimport { getStatusIcon } from '../utils/index.js';\n/**\n * Internal Control Inline (boolean types)\n *\n * ```typescript\n * import '@cds/core/forms/register.js';\n * ```\n *\n * ```html\n * <cds-internal-control-inline>\n *   <label>inline</label>\n *   <input type=\"radio\" />\n * </ds-internal-control-inline>\n * ```\n * @element cds-internal-control-inline\n * @slot - For projecting inline input and label\n */\nexport class CdsInternalControlInline extends CdsControl {\n    constructor() {\n        super(...arguments);\n        /** Align the labels of controls within group left or right */\n        this.controlAlign = 'left';\n        /** @private */\n        this.checked = false;\n        /** @private */\n        this.indeterminate = false;\n        this.supportsPrefixSuffixActions = false;\n    }\n    static get styles() {\n        return [...super.styles, styles];\n    }\n    get internalLabelTemplate() {\n        return html `\n      <cds-internal-control-label action=\"secondary\" .disabled=\"${this.disabled}\" cds-layout=\"align:vertical-center\">\n        <slot name=\"label\" @slotchange=${() => this.associateInputAndLabel()}></slot>\n      </cds-internal-control-label>\n    `;\n    }\n    render() {\n        var _a, _b;\n        return html `\n      <div\n        class=\"private-host\"\n        cds-layout=\"${this.isControlGroup ? 'horizontal align:vertical-center' : 'vertical'} gap:sm\"\n      >\n        <div\n          cds-layout=\"horizontal gap:sm wrap:none align:vertical-center ${this.controlAlign === 'right'\n            ? 'order:reverse'\n            : ''}\"\n        >\n          <div role=\"presentation\" class=\"input\" @click=${this.selectInput}></div>\n          <div role=\"presentation\" focusable @click=${this.selectInput}></div>\n          ${this.internalLabelTemplate}\n        </div>\n        ${((_a = this.messages) === null || _a === void 0 ? void 0 : _a.length)\n            ? html ` <div cds-layout=\"horizontal wrap:none ${((_b = this.messages) === null || _b === void 0 ? void 0 : _b.length) ? 'gap:sm' : ''}\">\n              ${getStatusIcon(this.status)}\n              <div cds-layout=\"align:vertical-center\" class=\"messages\">\n                <slot name=\"message\"></slot>\n              </div>\n            </div>`\n            : ''}\n      </div>\n      <div cds-layout=\"display:screen-reader-only\">\n        <slot name=\"input\"></slot>\n      </div>\n    `;\n    }\n    firstUpdated(props) {\n        super.firstUpdated(props);\n        this.inputControl.addEventListener('change', () => (this.checked = this.inputControl.checked));\n        this.observers.push(getElementUpdates(this.inputControl, 'checked', (value) => (this.checked = value === '' ? true : value)), getElementUpdates(this.inputControl, 'indeterminate', (value) => (this.indeterminate = value === '' ? true : value)));\n    }\n    updated(props) {\n        super.updated(props);\n        if (props.has('indeterminate') && props.get('indeterminate') !== this.indeterminate && this.indeterminate) {\n            this.checked = false;\n        }\n        if (props.has('checked') && props.get('checked') !== this.checked && this.checked) {\n            this.indeterminate = false;\n            this.checkedChange.emit(this.checked, { bubbles: !this.isControlGroup }); // if not a group then bubble to notify the other associated controls\n        }\n    }\n    selectInput(e) {\n        this.inputControl.click();\n        e.preventDefault(); // prevent any events from the input div, only the native input\n    }\n}\n__decorate([\n    property({ type: String })\n], CdsInternalControlInline.prototype, \"controlAlign\", void 0);\n__decorate([\n    state()\n], CdsInternalControlInline.prototype, \"isControlGroup\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalControlInline.prototype, \"checked\", void 0);\n__decorate([\n    state({ type: Boolean, reflect: true })\n], CdsInternalControlInline.prototype, \"indeterminate\", void 0);\n__decorate([\n    event()\n], CdsInternalControlInline.prototype, \"checkedChange\", void 0);\n"],"names":["CdsInternalControlInline","CdsControl","constructor","super","this","controlAlign","checked","indeterminate","supportsPrefixSuffixActions","styles","internalLabelTemplate","html","disabled","associateInputAndLabel","render","_a","_b","isControlGroup","selectInput","messages","length","getStatusIcon","status","firstUpdated","props","inputControl","addEventListener","observers","push","getElementUpdates","value","updated","has","get","checkedChange","emit","bubbles","e","click","preventDefault","__decorate","property","type","String","prototype","state","Boolean","reflect","event"],"mappings":"sTA2BO,MAAMA,UAAiCC,EAC1CC,cACIC,oBAEAC,KAAKC,aAAe,OAEpBD,KAAKE,SAAU,EAEfF,KAAKG,eAAgB,EACrBH,KAAKI,6BAA8B,EAE5BC,oBACP,MAAO,IAAIN,MAAMM,OAAQA,GAEzBC,4BACA,OAAOC,CAAK,6DAC8CP,KAAKQ,gFAC9B,IAAMR,KAAKS,iEAIhDC,SACI,IAAIC,EAAIC,EACR,OAAOL,CAAK,yCAGEP,KAAKa,eAAiB,mCAAqC,yFAGe,UAAtBb,KAAKC,aACjE,gBACA,sDAE4CD,KAAKc,iEACTd,KAAKc,sBAC/Cd,KAAKM,+BAEmB,QAAxBK,EAAKX,KAAKe,gBAA6B,IAAPJ,OAAgB,EAASA,EAAGK,QAC1DT,CAAK,0CAAoE,QAAxBK,EAAKZ,KAAKe,gBAA6B,IAAPH,OAAgB,EAASA,EAAGI,QAAU,SAAW,OAChIC,EAAcjB,KAAKkB,2GAKrB,wFAOVC,aAAaC,GACTrB,MAAMoB,aAAaC,GACnBpB,KAAKqB,aAAaC,iBAAiB,UAAU,IAAOtB,KAAKE,QAAUF,KAAKqB,aAAanB,UACrFF,KAAKuB,UAAUC,KAAKC,EAAkBzB,KAAKqB,aAAc,WAAYK,GAAW1B,KAAKE,QAAoB,KAAVwB,GAAsBA,IAASD,EAAkBzB,KAAKqB,aAAc,iBAAkBK,GAAW1B,KAAKG,cAA0B,KAAVuB,GAAsBA,KAE/OC,QAAQP,GACJrB,MAAM4B,QAAQP,GACVA,EAAMQ,IAAI,kBAAoBR,EAAMS,IAAI,mBAAqB7B,KAAKG,eAAiBH,KAAKG,gBACxFH,KAAKE,SAAU,GAEfkB,EAAMQ,IAAI,YAAcR,EAAMS,IAAI,aAAe7B,KAAKE,SAAWF,KAAKE,UACtEF,KAAKG,eAAgB,EACrBH,KAAK8B,cAAcC,KAAK/B,KAAKE,QAAS,CAAE8B,SAAUhC,KAAKa,kBAG/DC,YAAYmB,GACRjC,KAAKqB,aAAaa,QAClBD,EAAEE,kBAGVC,EAAW,CACPC,EAAS,CAAEC,KAAMC,UAClB3C,EAAyB4C,UAAW,oBAAgB,GACvDJ,EAAW,CACPK,KACD7C,EAAyB4C,UAAW,sBAAkB,GACzDJ,EAAW,CACPK,EAAM,CAAEH,KAAMI,QAASC,SAAS,KACjC/C,EAAyB4C,UAAW,eAAW,GAClDJ,EAAW,CACPK,EAAM,CAAEH,KAAMI,QAASC,SAAS,KACjC/C,EAAyB4C,UAAW,qBAAiB,GACxDJ,EAAW,CACPQ,KACDhD,EAAyB4C,UAAW,qBAAiB"}