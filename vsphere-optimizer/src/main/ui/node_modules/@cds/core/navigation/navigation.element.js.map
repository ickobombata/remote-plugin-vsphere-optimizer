{"version":3,"file":"navigation.element.js","sources":["../../../src/navigation/navigation.element.ts"],"sourcesContent":["/*\n * Copyright (c) 2016-2022 VMware, Inc. All Rights Reserved.\n * This software is released under MIT license.\n * The full license information can be found in LICENSE in the root directory of this project.\n */\nimport { __decorate } from \"tslib\";\nimport { html, LitElement } from 'lit';\nimport { animate, baseStyles, event, i18n, I18nService, state, isVisible, onKey, property, querySlot, querySlotAll, reverseAnimation, setAttributes, syncProps, syncPropsForAllItems, } from '@cds/core/internal';\nimport styles from './navigation.element.scss';\nimport { getNextFocusElement, getPreviousFocusElement, removeFocus, setFocus, visibleElement, } from './utils/index.js';\nimport { AnimationNavigationOpenName } from '../internal/motion/animations/cds-navigation-open.js';\nexport const CdsNavigationTagName = 'cds-navigation';\n/**\n * ```typescript\n * import '@cds/core/navigation/register.js';\n * ```\n *\n * ```html\n *  <cds-navigation>\n *    <cds-navigation-item><a href=\"/home\">Home</cds-navigation-item>\n *    <cds-navigation-item><a href=\"/account\">Account</cds-navigation-item>\n *  </cds-navigation>\n * ```\n *\n * @beta\n * @element cds-navigation\n * @event expandedChange - notify when the user has clicked the navigation expand/collapse button\n * @cssprop --animation-duration\n * @cssprop --animation-easing\n * @cssprop --background\n * @cssprop --collapsed-width\n * @cssprop --expanded-width\n * @cssprop --font-size\n * @cssprop --font-weight\n * @cssprop --letter-spacing\n * @cssprop --line-height\n * @cssprop --nested-padding\n * @cssprop --padding\n * @slot\n * @slot - cds-navigation-substart - project content below the navigation toggle button\n * @slot - cds-navigation-end - project content below the scrollable section\n */\nlet CdsNavigation = class CdsNavigation extends LitElement {\n    constructor() {\n        super(...arguments);\n        this.expandedRoot = false;\n        this.cdsMotion = 'on';\n        /**\n         * This is used to sync down the information to this.navigationGroupItems\n         *\n         * @type { boolean }\n         * @protected\n         */\n        this.groupItem = true;\n        /**\n         *\n         * Vertical navigation elements can be either wide or narrow. Expanded indicates it should be wide.\n         * When navigation is wide cds-navigation-start button elements and cds-navigation-item a elements display\n         * text. When it is narrow they do not (consumer should provide an icon that stays visible).\n      \n         * @type {boolean}\n         */\n        this.expanded = false;\n        this.i18n = I18nService.keys.navigation;\n    }\n    static get styles() {\n        return [baseStyles, styles];\n    }\n    get endTemplate() {\n        return this.navigationEnd\n            ? html `\n          <div class=\"navigation-end\" cds-layout=\"vertical align:horizontal-stretch\">\n            <slot name=\"cds-navigation-end\" @slotchange=${this.onItemSlotChange}></slot>\n          </div>\n        `\n            : '';\n    }\n    get startTemplate() {\n        let returnHTML;\n        this.rootNavigationStart\n            ? (returnHTML = html `\n          <div class=\"navigation-start\" cds-layout=\"vertical align:horizontal-stretch\">\n            <slot @slotchange=\"${() => this.onStartItemSlotChange()}\" name=\"navigation-start\"></slot>\n            <cds-divider class=\"start-divider\"></cds-divider>\n          </div>\n        `)\n            : (returnHTML = '');\n        return returnHTML;\n    }\n    render() {\n        return html `<div class=\"private-host\" aria-label=\"${this.i18n.navigationLabel}\" cds-layout=\"vertical wrap:none\">\n      ${this.startTemplate}\n      <slot name=\"cds-navigation-substart\"></slot>\n      <nav class=\"navigation-body-wrapper\">\n        <div .ariaActiveDescendant=${this.ariaActiveDescendant} tabindex=\"0\" id=\"item-container\">\n          <div class=\"navigation-body\" cds-layout=\"vertical wrap:none align:horizontal-stretch\">\n            <slot @slotchange=${this.onItemSlotChange}></slot>\n          </div>\n        </div>\n      </nav>\n      ${this.endTemplate}\n    </div>`;\n    }\n    connectedCallback() {\n        var _a, _b, _c;\n        super.connectedCallback();\n        this.role = 'list';\n        (_a = this.rootNavigationStart) === null || _a === void 0 ? void 0 : _a.addEventListener('focus', this.focusRootStart.bind(this));\n        (_b = this.rootNavigationStart) === null || _b === void 0 ? void 0 : _b.addEventListener('blur', this.blurRootStart.bind(this));\n        (_c = this.rootNavigationStart) === null || _c === void 0 ? void 0 : _c.addEventListener('keydown', this.handleRootStartKeys.bind(this));\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        if (this.rootNavigationStart) {\n            this.rootNavigationStart.removeEventListener('click', this.toggle.bind(this));\n        }\n    }\n    firstUpdated(props) {\n        var _a;\n        super.firstUpdated(props);\n        const itemWrapper = (_a = this.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelector('#item-container');\n        itemWrapper === null || itemWrapper === void 0 ? void 0 : itemWrapper.addEventListener('focus', this.initItemKeys.bind(this));\n        itemWrapper === null || itemWrapper === void 0 ? void 0 : itemWrapper.addEventListener('keydown', this.handleItemKeys.bind(this));\n        itemWrapper === null || itemWrapper === void 0 ? void 0 : itemWrapper.addEventListener('blur', this.blurItemKeys.bind(this));\n    }\n    updated(props) {\n        super.updated(props);\n        if (props.has('expanded')) {\n            this.expandedRoot = this.expanded;\n        }\n        this.updateChildrenProps();\n    }\n    onStartItemSlotChange() {\n        this.onItemSlotChange();\n        // This is controlled by the slotchange event on the navigation-start slot\n        // Make sure we reattach the click handler for toggle if consumer changes the start element (e.g *ngIf)\n        if (this.rootNavigationStart) {\n            this.rootNavigationStart.addEventListener('click', this.toggle.bind(this));\n        }\n    }\n    onItemSlotChange() {\n        this.updateChildrenProps();\n        // set all visible navigation elements to tabindex = -1\n        this.allNavigationElements.forEach(item => {\n            setAttributes(item, ['tabindex', '-1']);\n        });\n    }\n    updateChildrenProps() {\n        if (this.navigationGroupItems) {\n            syncPropsForAllItems(Array.from(this.navigationGroupItems), this, { groupItem: true });\n        }\n        if (this.navigationItemRefs) {\n            syncPropsForAllItems(Array.from(this.navigationItemRefs), this, {\n                expanded: true,\n            });\n        }\n        if (this.navigationStartRefs) {\n            syncPropsForAllItems(Array.from(this.navigationStartRefs), this, {\n                expandedRoot: true,\n            });\n        }\n        if (this.rootNavigationStart) {\n            syncProps(this.rootNavigationStart, this, {\n                expanded: this.expanded,\n            });\n        }\n        if (this.rootNavigationItems.length > 0) {\n            syncPropsForAllItems(Array.from(this.rootNavigationItems), this, {\n                expanded: this.expanded,\n            });\n        }\n        if (this.navigationGroupRefs.length > 0) {\n            syncPropsForAllItems(Array.from(this.navigationGroupRefs), this, {\n                layout: true,\n            });\n        }\n    }\n    get visibleChildren() {\n        return Array.from(this.allNavigationElements).filter(n => isVisible(n));\n    }\n    toggle() {\n        this.expandedChange.emit(!this.expanded);\n    }\n    get currentActiveItem() {\n        return this.visibleChildren.find(c => c.id === this.ariaActiveDescendant);\n    }\n    blurItemKeys() {\n        if (this.currentActiveItem) {\n            removeFocus(this.currentActiveItem);\n        }\n    }\n    focusRootStart() {\n        if (this.rootNavigationStart) {\n            setFocus(this.rootNavigationStart);\n        }\n    }\n    blurRootStart() {\n        if (this.rootNavigationStart) {\n            removeFocus(this.rootNavigationStart);\n        }\n    }\n    initItemKeys() {\n        if (!this.currentActiveItem) {\n            setFocus(this.focusableElements[0]);\n            this.ariaActiveDescendant = this.focusableElements[0].id;\n        }\n        else {\n            const focusElement = this.currentActiveItem ? this.currentActiveItem : this.allNavigationElements[0];\n            setFocus(focusElement);\n            this.ariaActiveDescendant = focusElement.id;\n        }\n    }\n    get focusableElements() {\n        return Array.from(this.allNavigationElements).filter(visibleElement);\n    }\n    handleItemKeys(event) {\n        onKey('arrow-down', event, () => {\n            if (this.currentActiveItem) {\n                removeFocus(this.currentActiveItem);\n                const next = getNextFocusElement(this.currentActiveItem, this.focusableElements);\n                this.ariaActiveDescendant = next.id;\n                setFocus(next);\n                event.preventDefault();\n            }\n        });\n        onKey('arrow-up', event, () => {\n            if (this.currentActiveItem) {\n                removeFocus(this.currentActiveItem);\n                const previous = getPreviousFocusElement(this.currentActiveItem, this.focusableElements);\n                this.ariaActiveDescendant = previous.id;\n                setFocus(previous);\n                event.preventDefault();\n            }\n        });\n        onKey('arrow-right', event, () => {\n            var _a;\n            const groupParent = (_a = this.currentActiveItem) === null || _a === void 0 ? void 0 : _a.closest('cds-navigation-group');\n            if (groupParent && !groupParent.expanded) {\n                groupParent.expandedChange.emit(!groupParent.expanded);\n                return;\n            }\n        });\n        onKey('arrow-left', event, () => {\n            var _a, _b, _c;\n            const groupParent = (_a = this.currentActiveItem) === null || _a === void 0 ? void 0 : _a.closest('cds-navigation-group');\n            if (((_b = this.currentActiveItem) === null || _b === void 0 ? void 0 : _b.tagName) === 'CDS-NAVIGATION-ITEM' && !!groupParent) {\n                const groupStartElement = groupParent === null || groupParent === void 0 ? void 0 : groupParent.querySelector('cds-navigation-start');\n                removeFocus(this.currentActiveItem);\n                this.ariaActiveDescendant = (_c = groupStartElement === null || groupStartElement === void 0 ? void 0 : groupStartElement.id) !== null && _c !== void 0 ? _c : null;\n                setFocus(groupStartElement);\n                return;\n            }\n            if (groupParent && groupParent.expanded) {\n                groupParent.expandedChange.emit(!groupParent.expanded);\n                return;\n            }\n        });\n        onKey('home', event, () => {\n            if (this.currentActiveItem) {\n                removeFocus(this.currentActiveItem);\n                const home = this.focusableElements[0];\n                this.ariaActiveDescendant = home.id;\n                setFocus(home);\n            }\n        });\n        onKey('end', event, () => {\n            if (this.currentActiveItem) {\n                removeFocus(this.currentActiveItem);\n                const end = this.focusableElements[this.focusableElements.length - 1];\n                this.ariaActiveDescendant = end.id;\n                setFocus(end);\n            }\n        });\n        onKey('enter', event, () => {\n            var _a, _b;\n            // focusElement is either an Anchor or a button and we want to click it here\n            if ((_a = this.currentActiveItem) === null || _a === void 0 ? void 0 : _a.focusElement) {\n                (_b = this.currentActiveItem) === null || _b === void 0 ? void 0 : _b.focusElement.click();\n            }\n        });\n        onKey('space', event, () => {\n            var _a, _b;\n            // focusElement is either an Anchor or a button and we want to click it here\n            if ((_a = this.currentActiveItem) === null || _a === void 0 ? void 0 : _a.focusElement) {\n                (_b = this.currentActiveItem) === null || _b === void 0 ? void 0 : _b.focusElement.click();\n            }\n        });\n    }\n    handleRootStartKeys(event) {\n        onKey('arrow-right', event, () => {\n            if (!this.expanded) {\n                this.toggle();\n                return;\n            }\n        });\n        onKey('arrow-left', event, () => {\n            if (this.expanded) {\n                this.toggle();\n                return;\n            }\n        });\n    }\n};\n__decorate([\n    property({ type: String })\n], CdsNavigation.prototype, \"cdsMotion\", void 0);\n__decorate([\n    event()\n], CdsNavigation.prototype, \"expandedChange\", void 0);\n__decorate([\n    event()\n], CdsNavigation.prototype, \"cdsMotionChange\", void 0);\n__decorate([\n    state({ type: Boolean })\n], CdsNavigation.prototype, \"groupItem\", void 0);\n__decorate([\n    property({ type: Boolean })\n], CdsNavigation.prototype, \"expanded\", void 0);\n__decorate([\n    i18n()\n], CdsNavigation.prototype, \"i18n\", void 0);\n__decorate([\n    querySlot('[slot=\"cds-navigation-end\"]', { assign: 'cds-navigation-end' })\n], CdsNavigation.prototype, \"navigationEnd\", void 0);\n__decorate([\n    querySlotAll('cds-navigation-group > cds-navigation-start, cds-navigation-item:not([disabled])')\n], CdsNavigation.prototype, \"allNavigationElements\", void 0);\n__decorate([\n    querySlotAll('cds-navigation-start')\n], CdsNavigation.prototype, \"navigationStartRefs\", void 0);\n__decorate([\n    querySlotAll(':scope > cds-divider')\n], CdsNavigation.prototype, \"rootDividers\", void 0);\n__decorate([\n    querySlotAll(':scope > cds-navigation-group')\n], CdsNavigation.prototype, \"rootNavigationGroups\", void 0);\n__decorate([\n    querySlotAll(':scope > cds-navigation-item')\n], CdsNavigation.prototype, \"rootNavigationItems\", void 0);\n__decorate([\n    querySlot(':scope > cds-navigation-start', { assign: 'navigation-start' })\n], CdsNavigation.prototype, \"rootNavigationStart\", void 0);\n__decorate([\n    querySlotAll(':scope > cds-navigation-group > cds-navigation-item')\n], CdsNavigation.prototype, \"navigationGroupItems\", void 0);\n__decorate([\n    querySlotAll('cds-navigation-item')\n], CdsNavigation.prototype, \"navigationItemRefs\", void 0);\n__decorate([\n    querySlotAll('cds-navigation-group')\n], CdsNavigation.prototype, \"navigationGroupRefs\", void 0);\nCdsNavigation = __decorate([\n    animate({\n        expanded: {\n            true: AnimationNavigationOpenName,\n            false: reverseAnimation(AnimationNavigationOpenName),\n        },\n    })\n], CdsNavigation);\nexport { CdsNavigation };\n"],"names":["CdsNavigationTagName","CdsNavigation","LitElement","constructor","super","this","expandedRoot","cdsMotion","groupItem","expanded","i18n","I18nService","keys","navigation","styles","baseStyles","endTemplate","navigationEnd","html","onItemSlotChange","startTemplate","returnHTML","rootNavigationStart","onStartItemSlotChange","render","navigationLabel","ariaActiveDescendant","connectedCallback","_a","_b","_c","role","addEventListener","focusRootStart","bind","blurRootStart","handleRootStartKeys","disconnectedCallback","removeEventListener","toggle","firstUpdated","props","itemWrapper","shadowRoot","querySelector","initItemKeys","handleItemKeys","blurItemKeys","updated","has","updateChildrenProps","allNavigationElements","forEach","item","setAttributes","navigationGroupItems","syncPropsForAllItems","Array","from","navigationItemRefs","navigationStartRefs","syncProps","rootNavigationItems","length","navigationGroupRefs","layout","visibleChildren","filter","n","isVisible","expandedChange","emit","currentActiveItem","find","c","id","removeFocus","setFocus","focusElement","focusableElements","visibleElement","event","onKey","next","getNextFocusElement","preventDefault","previous","getPreviousFocusElement","groupParent","closest","tagName","groupStartElement","home","end","click","__decorate","property","type","String","prototype","state","Boolean","querySlot","assign","querySlotAll","animate","true","AnimationNavigationOpenName","false","reverseAnimation"],"mappings":"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"}